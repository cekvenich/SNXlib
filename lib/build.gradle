//todo: rest API http://jitpack.io/docs/API

//CONFIG:
///////////////////////////////////////////////////////////////////////////////////////////
buildscript {
  repositories {
    mavenCentral()
    maven { url "https://jitpack.io" }
  }
  dependencies {
    classpath 'com.github.jengelman.gradle.plugins:shadow:5.2.0'
  }
}
plugins {
    id 'com.github.johnrengelman.shadow' version '5.2.0'
    id 'java-library'
    id 'jacoco'
}
apply plugin: 'java'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'maven'
repositories {
  maven { url 'https://jitpack.io' }
    mavenCentral()
}
sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

// in eclipse right click and refresh build gradle

// PROJECT:
dependencies {
  // https://mvnrepository.com/artifact/org.apache.httpcomponents.core5/httpcore5:
  implementation group: 'org.apache.httpcomponents.core5', name: 'httpcore5', version: '5.0'

  //s3
  implementation 'io.minio:minio:6.0.13'

  // pug
  implementation group: 'de.neuland-bfi',    	name: 'jade4j',       	version: '1.3.1'
  implementation group: 'com.googlecode.json-simple', name: 'json-simple',  version: '1.1.1'
  implementation group: 'commons-dbutils',   	name: 'commons-dbutils',version: '1.7'
  implementation group: 'org.xerial',        	name: 'sqlite-jdbc',   	version: '3.30.1'
  implementation group: 'dnsjava', 				name: 'dnsjava', 		version: '3.0.1'

  implementation 'com.github.blocoio:faker:1.2.8'

  //javolution concurent collections is not in maven:
  implementation fileTree(dir: 'libs', include: ['*.jar'])

  //test
  implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '4.0.0-alpha-4'

}

// BULID:
///////////////////////////////////////////////////////////////////////////////////////////
// Name of this project
archivesBaseName = 'SNX'
shadowJar {
   baseName = 'SNX'
   classifier = ''
   archiveVersion = ''
}
tasks.build.dependsOn tasks.shadowJar
artifacts {
    archives shadowJar
}
task cleanUp() {
  println 'clean build'
  delete './build'
}
defaultTasks 'cleanUp', 'install'

// DEPLOY:
///////////////////////////////////////////////////////////////////////////////////////////
// needs jitpack.yaml in root for java version and gradle for its version
group = 'com.github.jitpack'


// push. release. built. test. 
// eg: http://jitpack.io/#cekvenich/SNX/0.0.12
